<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ - –Æ–≤–µ–ª–∏—Ä–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –í–µ–Ω–µ—Ä–∞</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        #imageDetails {
            text-align: center;
            margin-top: 20px;
        }
        .button {
            margin: 5px;
        }
        .catalog-item img {
            width: 150px; /* –®–∏—Ä–∏–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
            height: auto; /* –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ */
        }
        .item-name {
            font-weight: bold; /* –ñ–∏—Ä–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ */
            margin-top: 8px; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è */
        }
        .search-container {
            position: relative;
            display: inline-block;
        }
        .search-input {
            border-radius: 20px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            padding: 10px; /* –û—Ç—Å—Ç—É–ø –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª—è */
            font-size: 16px; /* –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            width: 800px; /* –®–∏—Ä–∏–Ω–∞ –ø–æ–ª—è */
            border: 1px solid #ccc; /* –°–≤–µ—Ç–ª–∞—è —Ä–∞–º–∫–∞ */
            background-color: #f0f0f0; /* –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω */
            margin-left: 30px;
        }
        .search-icon {
            font-size: 20px; /* –†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–∫–∏ –ø–æ–∏—Å–∫–∞ */
            cursor: pointer; /* –£–∫–∞–∑–∞—Ç–µ–ª—å –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }
        .suggestions {
            border: 1px solid #ccc;
            background-color: white;
            max-height: 150px;
            overflow-y: auto;
            position: absolute;
            width: 800px;
            z-index: 1000;
        }
    </style>
</head>
<body>

<div class="header">
    <h2>–ò—Å–∫—É—Å—Å—Ç–≤–æ –≤ –∫–∞–∂–¥–æ–π –¥–µ—Ç–∞–ª–∏</h2>
</div>

<div class="nav">
    <h2 class="title">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
</div>

<div class="action-buttons">
    <button class="button" onclick="goHome()">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
    <button class="button" onclick="goToCatalog()">–ö–∞—Ç–∞–ª–æ–≥</button>
    <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–∑–±—Ä–∞–Ω–Ω–æ–º—É" oninput="showSuggestions()">
        <a href="#" class="search-icon" onclick="searchItems()">üîç</a>
        <div id="suggestions" class="suggestions" style="display: none;"></div>
    </div>
    <div class="social-icons">
        <a href="#">üßõ</a>
        <a href="cart.html">üõí</a>
    </div>
</div>

<div id="favoritesItems" class="catalog-items"></div>
<div id="noFavoritesMessage" class="no-favorites" style="display: none;">–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.</div>

<div id="imageDetails" style="display: none;">
    <h3 id="imageTitle"></h3>
    <img id="selectedImage" style="width: 200px;">
    <p id="imageCharacteristics"></p>
    <button class="button" onclick="goBack()">–ù–∞–∑–∞–¥</button>
    <button class="button" onclick="removeFromFavorites()">–£–¥–∞–ª–∏—Ç—å –∏–∑ –ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ</button>
    <button class="button" onclick="addToCart()">–î–æ–±–∞–≤–∏—Ç—å –≤ –ö–æ—Ä–∑–∏–Ω—É</button>
</div>

<script>
    let currentItem = null; // –¢–µ–∫—É—â–∏–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä
    let currentIndex = -1; // –ò–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ–≤–∞—Ä–∞

    function displayFavoriteItems() {
        const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        const favoritesItems = document.getElementById('favoritesItems');
        const noFavoritesMessage = document.getElementById('noFavoritesMessage');

        if (favorites.length === 0) {
            noFavoritesMessage.style.display = 'block';
            favoritesItems.style.display = 'none';
            return;
        }

        noFavoritesMessage.style.display = 'none';
        favoritesItems.style.display = 'flex';
        favoritesItems.innerHTML = '';

        favorites.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'catalog-item';
            div.style.border = '1px solid white';
            div.style.padding = '10px';
            div.style.cursor = 'pointer';
            div.innerHTML = `
                <img src="${item.src}" alt="${item.description}">
                <p class="item-name">${item.name}</p>
            `;
            div.onclick = () => showImageDetails(item.src, item.description, item.name, index);
            favoritesItems.appendChild(div);
        });
    }

    function showImageDetails(imgSrc, description, name, index) {
        currentItem = { src: imgSrc, description: description }; // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ–≤–∞—Ä–∞
        currentIndex = index; // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ–≤–∞—Ä–∞
        document.getElementById('imageTitle').innerText = name;
        document.getElementById('selectedImage').src = imgSrc;
        document.getElementById('imageCharacteristics').innerText = description;

        document.getElementById('imageDetails').style.display = 'block';
        document.getElementById('favoritesItems').style.display = 'none';
    }

    function goBack() {
        document.getElementById('imageDetails').style.display = 'none';
        document.getElementById('favoritesItems').style.display = 'flex';
    }

    function goHome() {
        window.location.href = 'index.html';
    }

    function goToCatalog() {
        window.location.href = 'catalog.html';
    }

    function searchItems() {
        const input = document.getElementById('searchInput').value.trim();
        const favorites = JSON.parse(localStorage.getItem('favorites')) || [];

        if (input) {
            const filteredFavorites = favorites.filter(item => item.name.toLowerCase().includes(input.toLowerCase()));
            displayFilteredItems(filteredFavorites);

            if (filteredFavorites.length === 0) {
                alert(`–¢–æ–≤–∞—Ä "${input}" –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º.`);
            }
        } else {
            alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞.");
            displayFavoriteItems();
        }
    }

    function displayFilteredItems(filteredFavorites) {
        const favoritesItems = document.getElementById('favoritesItems');
        favoritesItems.innerHTML = '';

        if (filteredFavorites.length === 0) {
            document.getElementById('noFavoritesMessage').style.display = 'block';
            return;
        } else {
            document.getElementById('noFavoritesMessage').style.display = 'none';
        }

        filteredFavorites.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'catalog-item';
            div.style.border = '1px solid white';
            div.style.padding = '10px';
            div.style.cursor = 'pointer';
            div.innerHTML = `
                <img src="${item.src}" alt="${item.description}">
                <p class="item-name">${item.name}</p>
            `;
            div.onclick = () => showImageDetails(item.src, item.description, item.name, index);
            favoritesItems.appendChild(div);
        });
    }

    function showSuggestions() {
        const input = document.getElementById('searchInput').value.trim();
        const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        const suggestionsContainer = document.getElementById('suggestions');
        suggestionsContainer.innerHTML = '';

        if (input) {
            const filteredFavorites = favorites.filter(item => item.name.toLowerCase().includes(input.toLowerCase()));
            filteredFavorites.forEach(item => {
                const suggestionDiv = document.createElement('div');
                suggestionDiv.className = 'suggestion-item';
                suggestionDiv.innerText = item.name;
                suggestionDiv.onclick = () => {
                    document.getElementById('searchInput').value = item.name;
                    suggestionsContainer.innerHTML = '';
                    searchItems();
                };
                suggestionsContainer.appendChild(suggestionDiv);
            });

            suggestionsContainer.style.display = filteredFavorites.length > 0 ? 'block' : 'none';
        } else {
            suggestionsContainer.style.display = 'none';
        }
    }

    function removeFromFavorites() {
        const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        if (currentIndex !== -1) {
            favorites.splice(currentIndex, 1);
            localStorage.setItem('favorites', JSON.stringify(favorites));
            goBack();
            alert("–¢–æ–≤–∞—Ä —É–¥–∞–ª—ë–Ω –∏–∑ –ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ.");
            displayFavoriteItems();
        }
    }

    function addToCart() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        if (currentItem && !cart.some(item => item.src === currentItem.src)) {
            cart.push(currentItem);
            localStorage.setItem('cart', JSON.stringify(cart));
            alert(`${currentItem.description} –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –ö–æ—Ä–∑–∏–Ω—É!`);
        } else {
            alert(`${currentItem.description} —É–∂–µ –≤ –ö–æ—Ä–∑–∏–Ω–µ.`);
        }
    }

    document.addEventListener('DOMContentLoaded', displayFavoriteItems);
</script>

<div class="about">
    <h3>–û –Ω–∞—Å</h3>
    <p>–ß–∞—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ ¬´–ö–æ—Å–º–æ—Å –∂–¥–∏¬ª –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–µ–ª–∞—Ä—É—Å—å, 220000, –≥. –ú, —É–ª. –í, 16, –ø–æ–º. 6,
        –∫–∞–±. ‚Ññ6-19, 72-–∏–π —ç—Ç–∞–∂. –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã–¥–∞–Ω–æ 03.03.2–•–•–• –≥. –ú–∏–Ω–≥–æ—Ä–∏—Å–ø–æ–ª–∫–æ–º–æ–º. –£–ù–ü 190696758. –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –¢–æ—Ä–≥–æ–≤–æ–º —Ä–µ–µ—Å—Ç—Ä–µ –†–ë: 08.05.2–•–•–• –≥. –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (–ª–∏—Ü–µ–Ω–∑–∏—è) –Ω–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∞–ª–ª–∞–º–∏ –∏ –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–º–∏ –∫–∞–º–Ω—è–º–∏ ‚Ññ 02200/21-01084, –≤—ã–¥–∞–Ω–æ –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å. –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞: –ø–Ω-—á—Ç 9.00-18.00, –ø—Ç 9.00-17.00, —Å–±-–≤—Å –≤—ã—Ö–æ–¥–Ω–æ–π.</p>
</div>

<div class="footer">
    <div>–ö–æ–ª—å—Ü–∞ | –ë—Ä–∞—Å–ª–µ—Ç—ã | –ü–æ–¥–≤–µ—Å–∫–∏ | –¶–µ–ø–∏ | –ê–∫—Ü–∏–∏</div>
    <div class="social-icons">
        <a href="#">Instagram</a>
        <a href="#">TikTok</a>
        <a href="#">VK</a>
    </div>
</div>
</body>
</html>