<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Ä–∑–∏–Ω–∞ - –Æ–≤–µ–ª–∏—Ä–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –í–µ–Ω–µ—Ä–∞</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .catalog-item {
            border: 1px solid white;
            padding: 10px;
            margin: 10px;
            text-align: center;
            cursor: pointer;
            display: inline-block;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        .catalog-item img {
            width: 150px;
            height: auto;
        }
        .item-name {
            margin-top: 8px;
            font-weight: bold;
        }
        #imageDetails {
            text-align: center;
            margin-top: 20px;
        }
        .action-buttons {
            margin: 20px 0;
        }
        .search-container {
            display: inline-block;
            margin-left: 10px; /* –£–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è –±–æ–ª–µ–µ –±–ª–∏–∑–∫–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è */
        }
        .search-input {
            border-radius: 20px;
            padding: 10px;
            font-size: 16px;
            width: 800px;
            border: 1px solid #ccc;
            background-color: #f0f0f0;
        }
        .search-icon {
            font-size: 20px;
            cursor: pointer;
            margin-left: 10px;
        }
        .suggestions {
            border: 1px solid #ccc;
            background-color: white;
            max-height: 150px;
            overflow-y: auto;
            position: absolute;
            width: 300px;
            z-index: 1000;
        }
        .nav-buttons {
            display: inline-block;
            margin-right: 10px; /* –£–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è –±–æ–ª–µ–µ –±–ª–∏–∑–∫–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è */
        }
    </style>
</head>
<body>

<div class="header">
    <h2>–ò—Å–∫—É—Å—Å—Ç–≤–æ –≤ –∫–∞–∂–¥–æ–π –¥–µ—Ç–∞–ª–∏</h2>
</div>

<div class="nav">
    <h2 class="title">–ö–æ—Ä–∑–∏–Ω–∞</h2>
</div>

<div class="action-buttons">
    <div class="nav-buttons">
        <button class="button" onclick="goHome()">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
        <button class="button" onclick="goToCatalog()">–ö–∞—Ç–∞–ª–æ–≥</button>
    </div>
    <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="–ü–æ–∏—Å–∫ –≤ –∫–æ—Ä–∑–∏–Ω–µ" oninput="showCartSuggestions()">
        <a href="#" class="search-icon" onclick="searchCartItems()">üîç</a>
        <div id="cartSuggestions" class="suggestions" style="display: none;"></div>
    </div>
    <div class="social-icons">
        <a href="#">üßõ</a>
        <a href="favorites.html">üñ§</a>
    </div>
</div>

<div id="cartItems" class="catalog-items"></div>
<div id="noCartMessage" class="no-cart" style="display: none;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.</div>

<div id="imageDetails" style="display: none;">
    <h3 id="imageTitle"></h3>
    <img id="selectedImage" style="width: 200px;">
    <p id="imageCharacteristics"></p>
    <div class="action-buttons">
        <button class="button" onclick="goBack()">–ù–∞–∑–∞–¥</button>
        <button class="button" onclick="removeFromCart()">–£–¥–∞–ª–∏—Ç—å –∏–∑ –ö–æ—Ä–∑–∏–Ω—ã</button>
        <button class="button" onclick="placeOrder()">–ó–∞–∫–∞–∑–∞—Ç—å</button>
    </div>
</div>

<script>
    let currentItem = null; // –¢–µ–∫—É—â–∏–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä
    let currentIndex = -1; // –ò–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ–≤–∞—Ä–∞

    function displayCartItems() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartItems = document.getElementById('cartItems');
        const noCartMessage = document.getElementById('noCartMessage');

        if (cart.length === 0) {
            noCartMessage.style.display = 'block';
            cartItems.style.display = 'none';
            return;
        }

        noCartMessage.style.display = 'none';
        cartItems.style.display = 'flex';
        cartItems.innerHTML = '';

        cart.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'catalog-item';
            div.onclick = () => showImageDetails(item, index);
            div.innerHTML = `
                <img src="${item.src}" alt="${item.description}">
                <div class="item-name">${item.name}</div>
            `;
            cartItems.appendChild(div);
        });
    }

    function showImageDetails(item, index) {
        currentItem = item;
        currentIndex = index;
        document.getElementById('imageTitle').innerText = item.name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–æ–≤–∞—Ä';
        document.getElementById('selectedImage').src = item.src;
        document.getElementById('imageCharacteristics').innerText = item.description || '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è';

        document.getElementById('imageDetails').style.display = 'block';
        document.getElementById('cartItems').style.display = 'none';
    }

    function goHome() {
        window.location.href = 'index.html';
    }

    function goToCatalog() {
        window.location.href = 'catalog.html';
    }

    function goBack() {
        document.getElementById('imageDetails').style.display = 'none';
        document.getElementById('cartItems').style.display = 'flex';
    }

    function removeFromCart() {
        if (currentIndex !== -1) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.splice(currentIndex, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            alert("–¢–æ–≤–∞—Ä —É–¥–∞–ª—ë–Ω –∏–∑ –ö–æ—Ä–∑–∏–Ω—ã.");
            displayCartItems(); // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∑–∏–Ω—ã
            goBack(); // –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É –∫–æ—Ä–∑–∏–Ω—ã
        }
    }

    function placeOrder() {
        alert("–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!");
    }

    function showCartSuggestions() {
        const input = document.getElementById('searchInput').value.trim();
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const suggestionsContainer = document.getElementById('cartSuggestions');
        suggestionsContainer.innerHTML = ''; // –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

        if (input) {
            const filteredCart = cart.filter(item => item.name.toLowerCase().includes(input.toLowerCase()));
            filteredCart.forEach(item => {
                const suggestionDiv = document.createElement('div');
                suggestionDiv.className = 'suggestion-item';
                suggestionDiv.innerText = item.name;
                suggestionDiv.onclick = () => {
                    document.getElementById('searchInput').value = item.name;
                    suggestionsContainer.innerHTML = '';
                    searchCartItems(); // –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫
                };
                suggestionsContainer.appendChild(suggestionDiv);
            });

            suggestionsContainer.style.display = filteredCart.length > 0 ? 'block' : 'none';
        } else {
            suggestionsContainer.style.display = 'none';
        }
    }

    function searchCartItems() {
        const input = document.getElementById('searchInput').value.trim();
        const cart = JSON.parse(localStorage.getItem('cart')) || [];

        if (input) {
            const filteredCart = cart.filter(item => item.name.toLowerCase().includes(input.toLowerCase()));
            displayFilteredCartItems(filteredCart);

            if (filteredCart.length === 0) {
                alert(`–¢–æ–≤–∞—Ä "${input}" –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω–µ.`);
            }
        } else {
            alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞.");
            displayCartItems(); // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, –µ—Å–ª–∏ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –ø—É—Å—Ç–æ–µ
        }
    }

    function displayFilteredCartItems(filteredCart) {
        const cartItems = document.getElementById('cartItems');
        cartItems.innerHTML = '';
        if (filteredCart.length === 0) {
            document.getElementById('noCartMessage').style.display = 'block';
            return;
        } else {
            document.getElementById('noCartMessage').style.display = 'none';
        }

        filteredCart.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'catalog-item';
            div.onclick = () => showImageDetails(item, index);
            div.innerHTML = `
                <img src="${item.src}" alt="${item.description}">
                <div class="item-name">${item.name}</div>
            `;
            cartItems.appendChild(div);
        });
    }

    document.addEventListener('DOMContentLoaded', displayCartItems);
</script>

<div class="about">
    <h3>–û –Ω–∞—Å</h3>
    <p>–ß–∞—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ ¬´–ö–æ—Å–º–æ—Å –∂–¥–∏¬ª –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–µ–ª–∞—Ä—É—Å—å, 220000, –≥. –ú, —É–ª. –í, 16, –ø–æ–º. 6,
        –∫–∞–±. ‚Ññ6-19, 72-–∏–π —ç—Ç–∞–∂. –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã–¥–∞–Ω–æ 03.03.2–•–•–• –≥. –ú–∏–Ω–≥–æ—Ä–∏—Å–ø–æ–ª–∫–æ–º–æ–º. –£–ù–ü 190696758. –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –¢–æ—Ä–≥–æ–≤–æ–º —Ä–µ–µ—Å—Ç—Ä–µ –†–ë: 08.05.2–•–•–• –≥. –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (–ª–∏—Ü–µ–Ω–∑–∏—è) –Ω–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∞–ª–ª–∞–º–∏ –∏ –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–º–∏ –∫–∞–º–Ω—è–º–∏ ‚Ññ 02200/21-01084, –≤—ã–¥–∞–Ω–æ –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å. –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞: –ø–Ω-—á—Ç 9.00-18.00, –ø—Ç 9.00-17.00, —Å–±-–≤—Å –≤—ã—Ö–æ–¥–Ω–æ–π.</p>
</div>

<div class="footer">
    <div>–ö–æ–ª—å—Ü–∞ | –ë—Ä–∞—Å–ª–µ—Ç—ã | –ü–æ–¥–≤–µ—Å–∫–∏ | –¶–µ–ø–∏ | –ê–∫—Ü–∏–∏</div>
    <div class="social-icons">
        <a href="#">Instagram</a>
        <a href="#">TikTok</a>
        <a href="#">VK</a>
    </div>
</div>
</body>
</html>